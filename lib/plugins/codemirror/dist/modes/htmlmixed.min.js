(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],a);else a(CodeMirror)})(function(a){"use strict";var b={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function c(a,b,c){var d=a.current(),e=d.search(b);if(e>-1){a.backUp(d.length-e)}else if(d.match(/<\/?$/)){a.backUp(d.length);if(!a.match(b,false))a.match(d)}return c}var d={};function e(a){var b=d[a];if(b)return b;return d[a]=new RegExp("\\s+"+a+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function f(a,b){var c=a.pos,d;while(c>=0&&a.string.charAt(c)!=="<")c--;if(c<0)return c;if(d=a.string.slice(c,a.pos).match(e(b)))return d[2];return""}function g(a,b){return new RegExp((b?"^":"")+"</s*"+a+"s*>","i")}function h(a,b){for(var c in a){var d=b[c]||(b[c]=[]);var e=a[c];for(var f=e.length-1;f>=0;f--)d.unshift(e[f])}}function i(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(!d[0]||d[1].test(f(b,d[0])))return d[2]}}a.defineMode("htmlmixed",function(d,e){var f=a.getMode(d,{name:"xml",htmlMode:true,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag});var j={};var k=e&&e.tags,l=e&&e.scriptTypes;h(b,j);if(k)h(k,j);if(l)for(var m=l.length-1;m>=0;m--)j.script.unshift(["type",l[m].matches,l[m].mode]);function n(b,e){var h=e.htmlState.tagName&&e.htmlState.tagName.toLowerCase();var k=h&&j.hasOwnProperty(h)&&j[h];var l=f.token(b,e.htmlState),m;if(k&&/\btag\b/.test(l)&&b.current()===">"&&(m=i(k,b))){var o=a.getMode(d,m);var p=g(h,true),q=g(h,false);e.token=function(a,b){if(a.match(p,false)){b.token=n;b.localState=b.localMode=null;return null}return c(a,q,b.localMode.token(a,b.localState))};e.localMode=o;e.localState=a.startState(o,f.indent(e.htmlState,""))}return l}return{startState:function(){var a=f.startState();return{token:n,localMode:null,localState:null,htmlState:a}},copyState:function(b){var c;if(b.localState){c=a.copyState(b.localMode,b.localState)}return{token:b.token,localMode:b.localMode,localState:c,htmlState:a.copyState(f,b.htmlState)}},token:function(a,b){return b.token(a,b)},indent:function(b,c){if(!b.localMode||/^\s*<\//.test(c))return f.indent(b.htmlState,c);else if(b.localMode.indent)return b.localMode.indent(b.localState,c);else return a.Pass},innerMode:function(a){return{state:a.localState||a.htmlState,mode:a.localMode||f}}}},"xml","javascript","css");a.defineMIME("text/html","htmlmixed")});
//# sourceMappingURL=htmlmixed.min.js.map